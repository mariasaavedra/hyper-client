(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{8860:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return n(4785)}])},9864:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(5893),o=n(1163);function i(e){var t=(0,o.useRouter)(),n=function(){return!e.disabled&&null!==e.onClick||!e.disabled&&e.url},i=function(n){n.currentTarget.blur(),"submit"!==e.type&&(e.onClick?e.onClick(n):e.url&&function(){var n;e.url&&((n=e.url).indexOf("://")>0||0===n.indexOf("//")?window.open(e.url,"_blank"):t.push(e.url))}(),n.preventDefault())};return(0,r.jsxs)(r.Fragment,{children:["default"===e.priority&&(0,r.jsx)("button",{onClick:n()?function(e){return i(e)}:function(){},className:"mx-1 inline-block bg-neon border-2 border-solid border-black hover:bg-black hover:text-white text-black font-bold py-2 px-4 rounded",children:e.children}),"outline"===e.priority&&(0,r.jsx)("button",{onClick:n()?function(e){return i(e)}:function(){},className:"mx-1 inline-block bg-transparent border-2 border-solid border-slate-800 text-black font-bold py-2 px-4 rounded",children:e.children})]})}i.defaultProps={priority:"default",type:"button"}},8597:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(5893),o=n(9008),i=n(7043),a=n.n(i);function l(){return(0,r.jsx)("div",{className:"inline-block mt-10",children:(0,r.jsx)("a",{href:"#",children:(0,r.jsx)("img",{width:"150px",src:"/images/logo-black.png"})})})}var s=function(e){return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:a().container,children:[(0,r.jsxs)(o.default,{children:[(0,r.jsx)("title",{children:"Create Next App"}),(0,r.jsx)("meta",{name:"description",content:"Generated by create next app"})]}),(0,r.jsxs)("main",{className:"container mx-auto",children:[(0,r.jsx)(l,{}),e.children]})]})})},c=s},6013:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(5893),o=n(3091),i=n.n(o),a=n(9864);function l(e){var t=function(){e.handleClose&&e.handleClose()};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:i().ModalComponent+" bg-slate-900 bg-opacity-80 flex justify-center items-center fixed top-0 right-0 bottom-0 left-0",children:(0,r.jsxs)("div",{className:i().dialog+" bg-white p-8 rounded-md text-center",children:[(0,r.jsx)("i",{onClick:t,className:i().close+" fa fa-times"}),(0,r.jsx)("div",{className:"p-4",children:e.children}),(0,r.jsx)(a.Z,{onClick:t,priority:"outline",children:"Cancel"}),(0,r.jsx)(a.Z,{onClick:function(){e.handleConfirm&&e.handleConfirm()},children:e.confirmLabel})]})})})}l.defaultProps={confirmLabel:"Save"}},3029:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(5893),o=n(9669),i=n.n(o),a=n(7294),l=n(5538),s=n(6812),c=n.n(s),d=n(6013),u=n(5012),m=n.n(u);function h(e){(0,a.useEffect)((function(){}));return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:m().DrawrerComponent,children:[(0,r.jsxs)("div",{className:m().dialog,children:[(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("i",{onClick:function(){e.handleClose&&e.handleClose()},className:m().close+" absolute p-4 text-2xl fa fa-times"})}),(0,r.jsx)("div",{className:"p-10",children:e.children})]}),(0,r.jsx)("div",{className:m().overlay+" shadow-2xl"})]})})}var f=n(1438);function p(e){var t=(0,a.useState)(!1),n=t[0],o=t[1],s=(0,a.useState)(e.url||"/posts/".concat(e.id)),u=s[0],m=s[1],p=(0,a.useState)(e.title||""),x=p[0],b=p[1],g=(0,a.useState)(e.content||""),j=g[0],_=g[1],v=(0,a.useState)(!1),k=v[0],y=v[1],N="Article"===e.type,C=!N;(0,a.useEffect)((function(){n&&setTimeout((function(){o(!n)}),1e4)}),[n]),(0,a.useEffect)((function(){var t=e.id;try{i().put("".concat(f.Z,"/posts/").concat(t,"/"),{data:{title:x,url:u,content:j}}).then((function(){e.refetchById&&e.refetchById(t)}))}catch(r){console.log(r)}n&&setTimeout((function(){o(!n)}),1e4)}),[x,j,u]);return(0,r.jsxs)(r.Fragment,{children:[n&&(0,r.jsx)(d.Z,{confirmLabel:"Delete",handleConfirm:function(){o(!n);try{i().delete("".concat(f.Z,"/posts/").concat(e.id)).then((function(){e.refetch&&(e.refetch(),l.Am.success("Deleted successfully",{position:"bottom-right",theme:"light"}))}))}catch(t){l.Am.error(t,{position:"bottom-right",theme:"light"})}},handleClose:function(){return o(!n)},children:"Are you sure you'd like to delete this?"}),(0,r.jsxs)("div",{className:c().PostComponent+" rounded-lg",style:{height:"300px",backgroundImage:"url(".concat(e.background_url,")"),backgroundSize:"cover"},children:[e.isAdmin&&(0,r.jsxs)("div",{className:c().admin,children:[(0,r.jsx)("i",{onClick:function(){return y(!k)},className:"fas fa-pen text-white"}),(0,r.jsx)("i",{onClick:function(){return o(!0)},className:"fa fa-trash text-white"})]}),N&&k&&(0,r.jsx)(h,{isOpen:!0,handleClose:function(){console.log("handle close",k),y(!1),console.log(k)},children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl",children:x}),(0,r.jsx)("p",{children:j})]})}),k&&C&&(0,r.jsxs)("div",{className:c().meta,children:[(0,r.jsx)("div",{className:"formGroup",children:(0,r.jsx)("input",{id:"title",type:"text",style:{width:"100%"},placeholder:e.title,value:x,onChange:function(e){b(e.target.value)},className:"mt-2 bg-white block p-2 w-100 text-black font-medium text-sm"})}),(0,r.jsx)("div",{className:"formGroup",children:(0,r.jsx)("input",{id:"url",type:"text",style:{width:"100%"},placeholder:e.url,value:u,onChange:function(e){m(e.target.value)},className:"mt-2 bg-white block p-2 w-100 text-black font-medium text-sm"})}),(0,r.jsx)("div",{className:"formGroup",children:(0,r.jsx)("input",{id:"content",type:"text",value:j,style:{width:"100%"},placeholder:e.content,onChange:function(e){_(e.target.value)},className:"mt-2 bg-white block p-2 w-100 text-black font-medium text-sm"})})]}),(N||C&&!k)&&(0,r.jsx)("div",{className:c().meta,children:(0,r.jsxs)("a",{target:"_blank",href:u,children:[(0,r.jsxs)("h1",{className:"font-medium text-white text-3xl",children:[x," "]}),(0,r.jsx)("p",{className:"text-sm text-white text-base",children:j.substring(0,200)})]})})]})]})}function x(e){console.log("POST LIST",f.Z);var t=(0,a.useState)([]),n=t[0],o=t[1],l=function(){i().get("".concat(f.Z,"/posts/?populate=*")).then((function(e){o(e.data.data)}))},s=function(e){i().get("".concat(f.Z,"/posts/").concat(e)).then((function(t){console.log("from ID",t);var r=t.data.data,o=n.find((function(t){return t.id===e}));o&&(o.attributes=r.attributes)}))};return(0,a.useEffect)((function(){i().get("".concat(f.Z,"/posts/?populate=*")).then((function(e){o(e.data.data)}))}),[]),n?(0,r.jsx)(r.Fragment,{children:Boolean(n.length>0)&&n.map((function(t,n){var o,i,a,c;return(0,r.jsx)(p,{refetch:l,refetchById:s,id:t.id,type:null===(o=t.attributes)||void 0===o||null===(i=o.type)||void 0===i||null===(a=i.data)||void 0===a||null===(c=a.attributes)||void 0===c?void 0:c.label,isAdmin:e.isAdmin,url:t.attributes.url,title:t.attributes.title,background_url:t.attributes.background_url,content:t.attributes.content},n)}))}):null}p.defaultProps={isAdmin:!1,isEditMode:!1},x.defaultProps={isAdmin:!1}},1438:function(e,t){"use strict";t.Z="https://hyper-genius-api.herokuapp.com/api"},4785:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r=n(5893),o=n(9547),i=n.n(o),a=n(9669),l=n.n(a),s=n(7294),c=n(7043),d=n.n(c);function u(e){return(0,r.jsx)("span",{className:d().BannerComponent+" bg-black text-white text-center mr-2 p-1 text-sm",children:e.label})}var m=n(9864),h=n(6013),f=n(3029),p=n(5538),x=(n(993),n(1653)),b=n.n(x);function g(e){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{onClick:function(){e.onClick()},className:b().BookmarkComponent+" p-2 bg-white border-8 border-dashed border-black rounded-lg",style:{height:"300px"},children:(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"text-black",children:(0,r.jsx)("img",{style:{paddingTop:"20%"},className:"block mx-auto text-center",width:"100px",src:"/images/create.png"})})})})})}var j=n(8523),_=n(8597),v=n(1438);function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){k(e,t,n[t])}))}return e}var N=function(){var e=(0,s.useState)(!1),t=e[0],n=e[1],o=(0,s.useState)(""),a=o[0],c=o[1],d=(0,s.useState)(""),x=d[0],b=d[1],k=(0,s.useState)(""),N=k[0],C=k[1],w=(0,s.useState)([]),P=w[0],A=w[1],Z=(0,s.useState)(),S=Z[0],D=Z[1];(0,s.useEffect)((function(){O()}),[P]);var O=function(){var e=new FormData;Array.from(P).forEach((function(t){e.append("files",t)})),l().post("".concat(v.Z,"/upload"),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),D("http://api.digitalbytes.com:1337".concat(e.data[0].url))})).catch((function(e){console.log(e)}))},T=function(){n(!t)};return(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(u,{label:"You are viewing this page as an admin"}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsxs)("div",{className:i().actions+"invisible md:visible right lg:visible xl:visible sm:visible",children:[(0,r.jsx)(m.Z,{priority:"outline",children:"Edit Settings"}),(0,r.jsx)(p.Ix,{})]})}),(0,r.jsx)("div",{className:"container mt-4mx-auto"}),t&&(0,r.jsx)(h.Z,{handleConfirm:function(){try{l().post("".concat(v.Z,"/posts/"),{data:{title:a,url:x,content:N,background_url:S,type:x?2:1}}).then((function(e){console.log("response",e),n(!t)}))}catch(e){console.log(e)}},handleClose:T,children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{children:"Create Post"}),(0,r.jsx)("div",{className:i().placeholder,children:(0,r.jsxs)("div",{className:"border border-black rounded border-4 p-4",children:[!S&&(0,r.jsx)(j.ZP,{onDrop:function(e){A(e)},children:function(e){var t=e.getRootProps,n=e.getInputProps;return(0,r.jsxs)("div",y({},t(),{children:[(0,r.jsx)("input",y({},n())),(0,r.jsx)("p",{children:"Drag 'n' drop a photo here, or click to select"})]}))}}),S&&(0,r.jsx)("div",{style:{height:"300px",width:"100%",backgroundImage:"url("+S+")",backgroundPosition:"center",backgroundSize:"cover"}})]})}),(0,r.jsxs)("form",{className:"w-full mt-4 mx-auto",children:[(0,r.jsx)("label",{className:"mt-4 text-left ml-0 block",children:"Title"}),(0,r.jsx)("div",{className:"flex items-center border-2 rounded border-black py-2",children:(0,r.jsx)("input",{className:"appearance-none bg-transparent block border-none w-100 text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none",type:"text",placeholder:"Title","aria-label":"Title",value:a,onChange:function(e){return c(e.target.value)}})}),(0,r.jsx)("label",{className:"mt-4 text-left ml-0 block",children:"Url"}),(0,r.jsx)("div",{className:"flex items-center border-2 rounded border-black py-2",children:(0,r.jsx)("input",{className:"appearance-none bg-transparent block border-none w-100 text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none",type:"text",placeholder:"URL","aria-label":"URL",onChange:function(e){return b(e.target.value)}})}),(0,r.jsx)("label",{className:"mt-4 text-left ml-0 block",children:"Description"}),(0,r.jsx)("div",{className:"flex items-center border-2 rounded border-black py-2",children:(0,r.jsx)("textarea",{className:"appearance-none bg-transparent border-none block w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none",placeholder:"Description","aria-label":"description",onChange:function(e){return C(e.target.value)}})})]})]})}),(0,r.jsxs)("div",{className:"mt-4 grid lg:grid-cols-3 sm:grid-cols-1 sm:gap-1 gap-4",children:[(0,r.jsx)(g,{onClick:T}),(0,r.jsx)(f.Z,{isAdmin:!0})]})]})}},9547:function(e){e.exports={container:"Admin_container__Ry8QB",main:"Admin_main__a8Zm0",footer:"Admin_footer__ByM_j",title:"Admin_title__NTgDC",description:"Admin_description__7hIoy",code:"Admin_code__jUNYC",grid:"Admin_grid__x6szm",card:"Admin_card__zYoVT",logo:"Admin_logo__CNT66",actions:"Admin_actions__82ehG"}},7043:function(e){e.exports={BannerComponent:"Banner_BannerComponent__p7p9M"}},5012:function(e){e.exports={DrawrerComponent:"Drawer_DrawrerComponent__z4wSH",overlay:"Drawer_overlay__cfHjk",dialog:"Drawer_dialog__DlG9h"}},3091:function(e){e.exports={ModalComponent:"Modal_ModalComponent__D_gnJ",dialog:"Modal_dialog__rVBKA",close:"Modal_close__ORFYC"}},1653:function(e){e.exports={BookmarkComponent:"PlaceholderItem_BookmarkComponent__pan3_",meta:"PlaceholderItem_meta__o6oPq",admin:"PlaceholderItem_admin__R84xQ"}},6812:function(e){e.exports={PostComponent:"Post_PostComponent__mOfX0",meta:"Post_meta__mdr_v",admin:"Post_admin__m1Jyx"}},993:function(){}},function(e){e.O(0,[862,837,774,888,179],(function(){return t=8860,e(e.s=t);var t}));var t=e.O();_N_E=t}]);